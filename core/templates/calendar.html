{% extends 'base.html' %}

{% block title %}
    Invest.Uz - Market & Economic Widgets
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 bg-gray-900 text-gray-200">
  <header class="mb-6">
    <h2 class="text-2xl font-semibold mb-2 text-blue-400">üìÖ Real-time Market & Economic Widgets</h2>
    <p class="text-gray-300">Bu yerda real vaqtdagi muhim yangiliklar, bozorlar va indikatorlarni ko'rishingiz mumkin (NFP, CPI, FOMC ...).</p>
  </header>

  <!-- CONTAINER: scroll on small screens, grid on md+ -->
  <div class="flex md:grid md:grid-cols-3 gap-6 overflow-x-auto md:overflow-visible pb-6 snap-x snap-mandatory">
    
    <!-- CARD 2: TradingView Timeline (Top stories) -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-0 overflow-hidden border border-gray-700">
      <div class="p-4 border-b border-gray-700">
        <h3 class="text-lg font-medium text-gray-100">üì∞ Top Stories</h3>
      </div>
      <div class="p-4">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <a href="https://www.tradingview.com/news/top-providers/tradingview/" rel="noopener nofollow" target="_blank" class="text-blue-400">Top stories</a><span class="trademark"> by TradingView</span>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js" async>
          {
            "displayMode": "regular",
            "feedMode": "all_symbols",
            "colorTheme": "dark",
            "isTransparent": false,
            "locale": "en",
            "width": "100%",
            "height": 450
          }
          </script>
        </div>
      </div>
    </div>

    <!-- CARD 3: Market Overview -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-0 overflow-hidden border border-gray-700">
      <div class="p-4 border-b border-gray-700">
        <h3 class="text-lg font-medium text-gray-100">üìà Market Overview</h3>
      </div>
      <div class="p-4">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/markets/" rel="noopener nofollow" target="_blank" class="text-blue-400">World markets</a></div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-overview.js" async>
          {
            "colorTheme": "dark",
            "dateRange": "12M",
            "locale": "en",
            "largeChartUrl": "",
            "isTransparent": false,
            "showFloatingTooltip": false,
            "plotLineColorGrowing": "rgba(41, 98, 255, 1)",
            "plotLineColorFalling": "rgba(41, 98, 255, 1)",
            "gridLineColor": "rgba(240, 243, 250, 0)",
            "scaleFontColor": "#DBDBDB",
            "belowLineFillColorGrowing": "rgba(41, 98, 255, 0.12)",
            "belowLineFillColorFalling": "rgba(41, 98, 255, 0.12)",
            "belowLineFillColorGrowingBottom": "rgba(41, 98, 255, 0)",
            "belowLineFillColorFallingBottom": "rgba(41, 98, 255, 0)",
            "symbolActiveColor": "rgba(41, 98, 255, 0.12)",
            "tabs": [
              {
                "title": "Indices",
                "symbols": [
                  {"s":"FOREXCOM:SPXUSD","d":"S&P 500 Index"},
                  {"s":"FOREXCOM:NSXUSD","d":"US 100 Cash CFD"},
                  {"s":"FOREXCOM:DJI","d":"Dow Jones Industrial Average Index"},
                  {"s":"INDEX:NKY","d":"Japan 225"},
                  {"s":"INDEX:DEU40","d":"DAX Index"},
                  {"s":"FOREXCOM:UKXGBP","d":"FTSE 100 Index"}
                ],
                "originalTitle":"Indices"
              },
              {
                "title":"Futures",
                "symbols":[
                  {"s":"BMFBOVESPA:ISP1!","d":"S&P 500"},
                  {"s":"BMFBOVESPA:EUR1!","d":"Euro"},
                  {"s":"CMCMARKETS:GOLD","d":"Gold"},
                  {"s":"PYTH:WTI3!","d":"WTI Crude Oil"},
                  {"s":"BMFBOVESPA:CCM1!","d":"Corn"}
                ],
                "originalTitle":"Futures"
              },
              {
                "title":"Bonds",
                "symbols":[
                  {"s":"EUREX:FGBL1!","d":"Euro Bund"},
                  {"s":"EUREX:FBTP1!","d":"Euro BTP"},
                  {"s":"EUREX:FGBM1!","d":"Euro BOBL"}
                ],
                "originalTitle":"Bonds"
              },
              {
                "title":"Forex",
                "symbols":[
                  {"s":"FX:EURUSD","d":"EUR to USD"},
                  {"s":"FX:GBPUSD","d":"GBP to USD"},
                  {"s":"FX:USDJPY","d":"USD to JPY"},
                  {"s":"FX:USDCHF","d":"USD to CHF"},
                  {"s":"FX:AUDUSD","d":"AUD to USD"},
                  {"s":"FX:USDCAD","d":"USD to CAD"}
                ],
                "originalTitle":"Forex"
              }
            ],
            "support_host": "https://www.tradingview.com",
            "backgroundColor": "#0f0f0f",
            "width": "100%",
            "height": 450,
            "showSymbolLogo": true,
            "showChart": true
          }
          </script>
        </div>
      </div>
    </div>

    <!-- CARD 4: Economic Events Timeline -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-0 overflow-hidden border border-gray-700">
      <div class="p-4 border-b border-gray-700">
        <h3 class="text-lg font-medium text-gray-100">üóìÔ∏è Economic Events (Timeline)</h3>
      </div>
      <div class="p-4">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/economic-calendar/" rel="noopener nofollow" target="_blank" class="text-blue-400">Economic Calendar</a></div>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-events.js" async>
          {
            "colorTheme": "dark",
            "isTransparent": false,
            "locale": "en",
            "countryFilter": "ar,au,br,ca,cn,fr,de,in,id,it,jp,kr,mx,ru,sa,za,tr,gb,us,eu",
            "importanceFilter": "-1,0,1",
            "width": "100%",
            "height": 450
          }
          </script>
        </div>
      </div>
    </div>

    <!-- CARD 5: Forex Screener -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-4 border border-gray-700">
      <h3 class="text-lg font-medium mb-3 text-gray-100">üí± Forex Screener</h3>
      <div class="rounded overflow-hidden">
        <iframe src="https://s.tradingview.com/widgetembed/?market=forex&theme=dark"
                style="width:100%; height:400px; border:none;"></iframe>
      </div>
    </div>

    <!-- CARD 6: AAPL Technical Analysis -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-0 overflow-hidden border border-gray-700">
      <div class="p-4 border-b border-gray-700">
        <h3 class="text-lg font-medium text-gray-100">üîç AAPL Tech Analysis</h3>
      </div>
      <div class="p-4">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <a href="https://www.tradingview.com/symbols/NASDAQ-AAPL/technicals/" rel="noopener nofollow" target="_blank" class="text-blue-400">AAPL stock analysis</a>
          <span class="trademark"> by TradingView</span>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js" async>
          {
            "colorTheme": "dark",
            "displayMode": "single",
            "isTransparent": false,
            "locale": "en",
            "interval": "1m",
            "disableInterval": false,
            "width": "100%",
            "height": 400,
            "symbol": "NASDAQ:AAPL",
            "showIntervalTabs": true
          }
          </script>
        </div>
      </div>
    </div>

    <!-- CARD 7: AAPL Fundamentals -->
    <div class="min-w-[320px] md:min-w-0 snap-start bg-gray-800 rounded-lg shadow-md p-0 overflow-hidden border border-gray-700">
      <div class="p-4 border-b border-gray-700">
        <h3 class="text-lg font-medium text-gray-100">üè¶ AAPL Fundamentals</h3>
      </div>
      <div class="p-4">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget"></div>
          <a href="https://www.tradingview.com/symbols/NASDAQ-AAPL/financials-overview/" rel="noopener nofollow" target="_blank" class="text-blue-400">AAPL fundamentals</a>
          <span class="trademark"> by TradingView</span>
          <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-financials.js" async>
          {
            "symbol": "NASDAQ:AAPL",
            "colorTheme": "dark",
            "displayMode": "regular",
            "isTransparent": false,
            "locale": "en",
            "width": "100%",
            "height": 450
          }
          </script>
        </div>
      </div>
    </div>

  </div> <!-- /container -->

  <div class="mt-4 text-center text-sm text-gray-400">
    Mobil foydalanuvchilar uchun: yoniga suring ‚Äî <span class="font-medium">swipe</span> yoki <span class="font-medium">drag</span>.
  </div>
</div>
{% endblock %}
